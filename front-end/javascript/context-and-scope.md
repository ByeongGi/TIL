# 스코프와 컨텍스트
- 모든 함수 호출에는 범위와 컨텍스트가 있다. 컨텍스트는 객체 기반이지만, 스코프는 함수 (또는 블록) 기반이다.
- `스코프`는 호출될 때, 함수의 변수 접근과 관련이 있으며 각 호출마다 고유하다.
- `컨텍스트`는 항상 현재 실행중인 코드를 소유하는 객체에 대한 참조인 `this` 의 값이다.

## 스코프
- 변수는 로컬 또는 전역 범위에서 정의할 수 있다. 이 변수는 런타임 중에 다른 범위에서 변수의 접근 가능 여부를 설정한다.
- 전역 변수는 함수 본문 외부에서 선언된 변수이며, 런타임동안 지속된다. 또, 모든 범위에서 이를 접근하고 변경할 수 있다.
- 지역 변수는 정의된 함수 내부에 존재하며, 해당 함수의 모든 호출마다 다른 범위를 가진다. 또, 해당 범위 밖에서는 접근할 수 없다.

## 컨텍스트
- 컨텍스트는 보통 함수가 호출되는 방법에 의해 결정된다.
- 함수가 객체의 메소드로 호철되면, 컨텍스트는 메소드가 호출되는 객체이다.
```js
const obj = {
  getInstance() {
    return this;
  },
};

obj.getInstance() === obj; // true
```
- `new` 연산자를 사용하여 객체의 인스턴스를 만들 때에도 동일한 원칙이 적용된다.
  - `new` 연산자를 통해 호출하면, 함수의 범위 내에 있는 `this` 의 값이 새로 생성된 인스턴스가 된다.
  - 단순히 호출만 하게되면, 브라우저의 전역 컨텍스트 또는 `window` 가 기본 값이 된다.
    - 하지만, strict 모드에서는 컨텍스트가 기본적으로 정의되지 않으므로, `undefined` 가 된다.

```js
function foo() {
  console.log(this);
}

foo(); // window
new foo(); // foo
```

